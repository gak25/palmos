<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
    <title>
      <%= content_for?(:title) ? yield(:title) : "Palmos" %>
    </title>
    <%= stylesheet_link_tag "application", media: "all" %>
    <%= javascript_include_tag "application" %>
    <%= csrf_meta_tag %>
  </head>
  <body>
    <top-nav>
      <%= image_tag("palmos-logo.png", width: "35", id: "palmos-logo") %>
      <nav id='main-nav'>
        <div id='menu'>
          <i class="fa fa-user fa-2x" id="user-dropdown-avatar" aria-hidden="true"></i>
          <i class="fa fa-caret-down" id="user-dropdown-arrow" aria-hidden="true"></i>
        </div>
        <ul>
          <!-- <a href="/"><p class='account-current-user'>contact me</p></a> -->
          <% if user_signed_in? %>
            <!-- <li class='account-current-user'>Signed in as:</li> -->
            <li class='account-current-user'><%= link_to current_user.handle, edit_user_path(current_user) %></li>
            <li id="account-dropdown-text"><%= link_to("Sign Out", sign_out_path, 'data-method' => :delete) %></li>
          <% else %>
            <li id="account-dropdown-text"><%= link_to "Sign In", sign_in_path %></li>
            <li id="account-dropdown-text"><%= link_to "Sign Up", sign_out_path %></li>
          <% end %>
        </ul>
      </nav>
    </top-nav>

    <main>
      <% flash.each do |name, msg| %>
        <div class="#{name} callout">
          <%= content_tag :span, msg %>
        </div>
      <% end %>
      <%= javascript_pack_tag 'index.js' %>
      <%= yield %>
      <div id='app'></div>
    </main>
  </body>
</html>
